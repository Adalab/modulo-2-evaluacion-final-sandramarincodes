let f="https://fakestoreapi.com/products",l=[],r=[],c=[];const u=document.querySelector(".js_list"),h=document.querySelector(".js_input-search"),g=document.querySelector(".js_btn-search"),d=document.querySelector(".js_shopping-cart");function m(t){let e;t.image===""?e="https://placehold.co/600x400":e=t.image;let n=!1;for(const p of r)p.id===t.id&&(n=!0);let i;n?i="Eliminar":i="Comprar";let a;return n?a="btn-delete":a="btn-buy",`<li><div><img src="${e}" style="width: 200px;"/>
    <p>${t.title}</p><p>${t.price}</p>
    <button class="js_btn-cart ${a}" id="${t.id}">${i}</button></div></li>`}function o(t){c=t,u.innerHTML="";for(const n of t)u.innerHTML+=m(n);const e=document.querySelectorAll(".js_btn-cart");for(const n of e)n.addEventListener("click",L)}function b(t){let e;return t.image===""?e="https://placehold.co/600x400":e=t.image,`<li><div><img src="${e}" style="width: 200px;"/>
    <p>${t.title}</p><p>${t.price}</p><button class="js_btn-shopping" id="${t.id}">X</button>
    </div></li>`}function s(t){d.innerHTML="";for(const i of t)d.innerHTML+=b(i);r.length>=1&&(d.innerHTML+='<button class="js_clear-cart">Vaciar carrito</button>');const e=document.querySelector(".js_clear-cart");e&&e.addEventListener("click",y);const n=document.querySelectorAll(".js_btn-shopping");for(const i of n)i.addEventListener("click",v);localStorage.setItem("shoppingCart",JSON.stringify(r))}function S(){fetch(f).then(t=>t.json()).then(t=>{l=t,localStorage.getItem("shoppingCart")!==null&&(r=JSON.parse(localStorage.getItem("shoppingCart"))),o(l),s(r)})}function C(t){t.preventDefault();let e=h.value;const n=l.filter(i=>i.title.toLowerCase().includes(e.toLowerCase()));o(n)}function L(t){t.preventDefault();const e=parseInt(t.currentTarget.id),n=l.find(i=>i.id===e);r.find(i=>i.id===n.id)?r=r.filter(i=>i.id!==n.id):r.push(n),o(c),s(r)}function v(t){const e=parseInt(t.currentTarget.id);r=r.filter(n=>n.id!==e),o(c),s(r)}function y(t){r=[],localStorage.setItem("shoppingCart",JSON.stringify(r)),o(c),s(r)}g.addEventListener("click",C);S();
//# sourceMappingURL=main.js.map
